%	Name			:: 	sthlm Beamer Theme  HEAVILY based on the hsrmbeamer theme (Benjamin Weiss)
%	Author			:: 	Mark Hendry Olson (mark@hendryolson.com)
%	Created			::	2013-07-31
%	Updated	    	::	[[April]] 04, 2017 at 16:26:39
%	Version			:: 	2.0.2
%	Email			:: 	hendryolson@gmail.com
%	Website			:: 	http://markolson.se
%	Twitter			:: 	markolsonse
%	Instagram		:: 	markolsonse
%
%	License			:: 	This file may be distributed and/or modified under the
%					GNU Public License.
%
%	Description		::	This presentation is a demonstration of the sthlm beamer
%					theme, which is HEAVILY based on the HSRM beamer theme created by Benjamin Weiss
%					(benjamin.weiss@student.hs-rm.de), which can be found on GitHub
%					<https://github.com/hsrmbeamertheme/hsrmbeamertheme>.  It also borrows heavily
%					from the work of Matthias Vogelgesang, (https://bloerg.net) and his Metropolis Mtheme,
%					<https://github.com/matze/mtheme>.
%
%	Theme			::	newPxFont
%	Options			::	progressbar
%					::	sectionpages
%					::	numfooter
%					::	fullfooter
%					::	dovaligncolumns
%					::	protectframetitle
%					::	greybg
%					::	cblock
%					::	minimal


%-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
%
%        LOADING DOCUMENT
%
%-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=

\documentclass[newPxFont,numfooter,sectionpages,notes]{beamer}
% Ohne die Notizen kompilieren (z.B. für ein Handout)
% \documentclass[newPxFont,numfooter,sectionpages]{beamer}

\usepackage[utf8]{inputenc}
\usetheme{sthlm}
\usepackage{pgfplots}
\pgfplotsset{compat=1.14}
\usepackage{cancel}
\usepackage[ngerman]{babel}

\usepackage{pgfpages}
\setbeameroption{show notes on second screen}

\usepackage{xcolor}
% Definition eigener Farbwerte
\definecolor{maroon}{rgb}{0.5,0,0}
\definecolor{darkgreen}{rgb}{0,0.5,0}
\definecolor{darkpurple}{HTML}{9900FF}

\usepackage{listings}
\include{listing_settings}

% Deutsche Anführungszeichen
\usepackage[autostyle=true,german=quotes]{csquotes}


%-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
%
%	PRESENTATION INFORMATION
%
%-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=

\title{Gradle - Yet another Build-Tool?!}
\subtitle{Vortrag im Rahmen von \\ Large-Scale Development (LSD)}
\date{\today{}}
\author{\texttt{Felix Hefner, Max Jando \& Severin Kohler}}
\institute{Hochschule Mannheim, WS 2017/18}

\hypersetup{
pdfauthor = {Felix Hefner: mail@felixhefner.de},
pdfsubject = {Gradle - Yet another Build-Tool?!},
pdfkeywords = {gradle, build, tool},
pdfmoddate= {D:\pdfdate},
pdfcreator = {}
}

\begin{document}

%-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
%
%	TITLE PAGE
%
%-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=

\maketitle


%-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
%
%	TABLE OF CONTENTS: OVERVIEW
%
%-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=

\section*{Agenda}

\begin{frame}{Agenda}
\tableofcontents[hideallsubsections]
\end{frame}

\section{Was ist Gradle?}

\begin{frame}{Gradle?!}

Laut \alert{man gradle}:

\lstinputlisting[language=bash,caption={Linux Man-Page für \texttt{gradle}}]{listings/gradle_man.txt}

\end{frame}

\begin{frame}{Gradle?! - Neuer Versuch}

Wenn man Gradle selbst um Hilfe bittet:

\lstinputlisting[language=bash,caption={Ausschnitt aus der Ausgabe von \texttt{gradle --help}}]{listings/gradle_help.txt}

\end{frame}

\begin{frame}{Ein paar Buzzwords}
\begin{columns}
	\begin{column}{.48\linewidth}
		\begin{itemize}
			\item \emph{Task}
			\item \emph{Build}
			\item \emph{Project}
			\item \emph{Dependencies}
		\end{itemize}
	\end{column}
	\begin{column}{.48\linewidth}
		\begin{itemize}
			\item \emph{Build File}
			\item \emph{Settings File}
			\item \emph{JVM}
			\item \emph{Daemon}
		\end{itemize}
	\end{column}
\end{columns}
\end{frame}

\begin{frame}{Allgemeines}
	\begin{itemize}
		\item Build-Tool zum automatisierten Bauen und Testen von Quellcode
		\item Basierend auf Groovy, läuft in der JVM\footnote{Java Virtual Machine}
		\item Erster Release 2007, Version 1.0 im Juni 2012
		\item Aktuelle Version: \textbf{4.3.1}
		\item Lizenz: Apache 2.0 (Open-Source) 
		\item Für alle gängigen Plattformen verfügbar
	\end{itemize}
\end{frame}

\begin{frame}{Konzepte}
\begin{itemize}
	\item Build-Files in Groovy-basierender DSL\footnote{Domain-Specific Language}
		\begin{itemize}
			\item Objektorientierung möglich
			\item Komplexe Funktionen/Berechnungen realisierbar
			\item Dank eigener Keywords muss jedoch kein Groovy gelernt werden
		\end{itemize}
	\item Kombination aus Konzepten von \alert{Apache Ant} und \alert{Apache Maven}:
		\begin{enumerate}
			\item Einfachheit von Maven (\emph{\enquote{Convention over Configuration}})
			\item Flexibilität von Ant
		\end{enumerate}
	\item Simples Bauen von Projekten, die aus mehreren (verschieden-artigen) Teil-Projekten zusammengesetzt sind
\end{itemize}
\end{frame}

\begin{frame}{Anwendung}
\begin{itemize}
	\item Standard-Buildtool für Groovy
	\item Seit Android SDK 23 für Android Apps
	\item Mittlerweile von vielen bekannten Frameworks benutzt:
	\begin{itemize}
		\item Grails
		\item Hibernate
		\item Spring (insbesondere Spring Boot, Spring Security)
	\end{itemize}
\end{itemize}

\note{
	Von führenden IT-Unternehmen im Einsatz, z.B.:
	\begin{itemize}
		\item Google
		\item Netflix
		\item Oracle
		\item Paypal
	\end{itemize}
}

\end{frame}

\begin{frame}{Unterstützte Sprachen}
Gradle unterstützt direkt...
\begin{itemize}
	\item Java
	\item Groovy
	\item Scala
	\item Antlr\footnote{\emph{ANother Tool for Language Recognition}, Sprache zur Parser-Erzeugung}
\end{itemize}
Weitere Sprachen wie \emph{Assembler}, \emph{C}, \emph{C++} und \emph{Objective-C} können durch Plugins hinzugefügt werden
\end{frame}

\begin{frame}{Tasks}
\vfill
\begin{quotation}
	A Task represents a single atomic piece of work for a build, such as compiling classes or generating javadoc. \\ - \centering \textbf{Gradle Devs}
\end{quotation}
\pause

\begin{itemize}
	\item Element eines Gradle - Projekts
	\item Besteht aus einer Folge von Aktionen
	\item Besitzt einen Namen und einen Typ
	\item Kann von anderen Tasks abhängig sein
\end{itemize}
\end{frame}

\begin{frame}{Tasks - Ein Beispiel}
\lstinputlisting[language=Groovy,caption={Definition von 2 Tasks in einem \texttt{.gradle}-File}]{listings/simple_tasks.gradle}
\end{frame}

\begin{frame}{Tasks- Abhängigkeiten}
\vfill
\begin{figure}
	\centering
	\includegraphics[width=0.9\textwidth]{pics/task_dependencies}
	\caption{Abhängigkeiten zwischen typischen Gradle-Tasks}
	
\end{figure}
TODO: Bild selbst nachbauen in guter Quali!
\vfill
\end{frame}

\begin{frame}{Wichtige Funktionen des CLI-Tools}
	\begin{columns}
		\begin{column}{0.48\textwidth}
			\begin{itemize}
				\item \texttt{gradle <task(s)>}: Ausführen des/der Tasks (und Abhängigkeiten)
				\item \texttt{gradle <t\_1> \textbf{-x} <t\_2>}: Ausschluss von t\_2 
				\item \texttt{gradle --continue}: \\ Build fortsetzen, auch wenn Tasks nicht erfolgreich
			\end{itemize}
		\end{column}
		\begin{column}{0.48\textwidth}
			\begin{itemize}
				\item \texttt{gradle --rerun-tasks}: Gradle zwingen, bereits durchgeführte Tasks nochmals zu bearbeiten
				\item \texttt{gradle -q <query\_task>}: Gibt Build-Informationen zum angegebenen Task:
				\begin{itemize}
					\item \textbf{tasks:} Zeigt Tasks und Beschreibung
					\item \textbf{projects:} Zeigt Sub-Projekte
			%		\item \textbf{dependencies:} Zeigt Herkunft und Version der Abhängigkeiten
				\end{itemize}
			\end{itemize}
		\end{column}
	\end{columns}

	\note{
		Man sollte immer \texttt{./gradlew <cmd>} ausführen, da:
		\begin{itemize}
			\item Gebundelte Version mit Wrapper um Gradle, der die in der \emph{build.gradle} angegebene Version von Gradle startet
			\item Somit keine Kompatibilitätsprobleme
			\item Durch IDE-Plugin generiert
		\end{itemize}
	}
	
\end{frame}

\begin{frame}{Gradle vs. Maven}
\begin{table}[]
	\begin{tabularx}{\linewidth}{l || X X}
		\toprule
		\textbf{Eigenschaft} & \textbf{Maven} & \textbf{Gradle} \\
		\midrule
		\cBlue{Build-Config} & \texttt{pom.xml} & \texttt{build.gradle},\newline \texttt{settings.gradle} \& \newline \texttt{gradle.properties} \\
		\cBlue{Sprache} & XML & Groovy/DSL \\
		\cBlue{Build-Elemente} & Phasen & Tasks \\
		\cBlue{Standard-Tasks} & \texttt{build} \newline \texttt{clean} \newline \texttt{compile} \newline \texttt{assembl\textbf{y}:single}& \texttt{build} \newline \texttt{clean} \newline \texttt{compile\textbf{Java}} \newline \texttt{assembl\textbf{e}}\\
		\bottomrule
	\end{tabularx}
	\label{tab:maven_gradle_vergleich}
\end{table}

\note{
	\begin{itemize}
		\item \texttt{compileJava}: Es gibt für verschiedene Sprachen des Projekts verschiedene Tasks bei Gradle
		\item Je nach erkanntem Sourcecode-Files werden die Tasks angeboten
	\end{itemize}
}

\end{frame}

\section{Build- und Config-Files}

\begin{frame}{build.gradle}
TODO: Standard-Aufbau erklären...
\end{frame}

\begin{frame}{settings.gradle}
TODO: Standard-Aufbau erklären...
\end{frame}

\begin{frame}{gradle.properties}
TODO: Standard-Aufbau erklären...
\end{frame}

\section{Plugins}

\begin{frame}{Umstieg auf Gradle}
TODO: Interessante Plugins kurz erwähnen
\begin{itemize}
	\item Die, die bisher bei unserem Tomcat benutzt wurden: Findbugs, Checkstyle, Emma
	\item Weitere Interessante
\end{itemize}

\end{frame}

\section{Umstieg auf Gradle}

\begin{frame}{Umstieg auf Gradle}
TODO: Umstieg von diversen Build-Tools kurz anreisen
\begin{itemize}
	\item z.B. Ant, Maven
	\item Eventuell auch für Andere Sprachen, z.B. Composer (PHP)
\end{itemize}

\end{frame}


\begingroup
\setbeamercolor{background canvas}{bg=\cnDarkGrey}
\begin{frame}[plain]

\centering{
	\cGrey{\Huge{THE \newline END}}
}

\end{frame}
\endgroup

\end{document}