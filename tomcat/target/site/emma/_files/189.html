<HTML><HEAD><META CONTENT="text/html; charset=UTF-8" HTTP-EQUIV="Content-Type"/><TITLE>EMMA Coverage Report</TITLE><STYLE TYPE="text/css"> TABLE,TD,TH {border-style:solid; border-color:black;} TD,TH {background:white;margin:0;line-height:100%;padding-left:0.5em;padding-right:0.5em;} TD {border-width:0 1px 0 0;} TH {border-width:1px 1px 1px 0;} TR TD.h {color:red;} TABLE {border-spacing:0; border-collapse:collapse;border-width:0 0 1px 1px;} P,H1,H2,H3,TH {font-family:verdana,arial,sans-serif;font-size:10pt;} TD {font-family:courier,monospace;font-size:10pt;} TABLE.hdft {border-spacing:0;border-collapse:collapse;border-style:none;} TABLE.hdft TH,TABLE.hdft TD {border-style:none;line-height:normal;} TABLE.hdft TH.tl,TABLE.hdft TD.tl {background:#6699CC;color:white;} TABLE.hdft TD.nv {background:#6633DD;color:white;} .nv A:link {color:white;} .nv A:visited {color:white;} .nv A:active {color:yellow;} TABLE.hdft A:link {color:white;} TABLE.hdft A:visited {color:white;} TABLE.hdft A:active {color:yellow;} .in {color:#356085;} TABLE.s TD {padding-left:0.25em;padding-right:0.25em;} TABLE.s TD.l {padding-left:0.25em;padding-right:0.25em;text-align:right;background:#F0F0F0;} TABLE.s TR.z TD {background:#FF9999;} TABLE.s TR.p TD {background:#FFFF88;} TABLE.s TR.c TD {background:#CCFFCC;} A:link {color:#0000EE;text-decoration:none;} A:visited {color:#0000EE;text-decoration:none;} A:hover {color:#0000EE;text-decoration:underline;} TABLE.cn {border-width:0 0 1px 0;} TABLE.s {border-width:1px 0 1px 1px;} TD.h {color:red;border-width:0 1px 0 0;} TD.f {border-width:0 1px 0 1px;} TD.hf {color:red;border-width:0 1px 0 1px;} TH.f {border-width:1px 1px 1px 1px;} TR.cis TD {background:#F0F0F0;} TR.cis TD {border-width:1px 1px 1px 0;} TR.cis TD.h {color:red;border-width:1px 1px 1px 0;} TR.cis TD.f {border-width:1px 1px 1px 1px;} TR.cis TD.hf {color:red;border-width:1px 1px 1px 1px;} TD.b {border-style:none;background:transparent;line-height:50%;}  TD.bt {border-width:1px 0 0 0;background:transparent;line-height:50%;} TR.o TD {background:#F0F0F0;}TABLE.it {border-style:none;}TABLE.it TD,TABLE.it TH {border-style:none;}</STYLE></HEAD><BODY><TABLE WIDTH="100%" CLASS="hdft" CELLSPACING="0"><TR><TH CLASS="tl"><A HREF="http://emma.sourceforge.net/">EMMA</A> Coverage Report (generated Thu Nov 16 15:09:53 CET 2017)</TH></TR><TR><TD CLASS="nv">[<A HREF="../index.html">all classes</A>][<A HREF="2a.html">org.apache.tomcat.jni</A>]</TD></TR></TABLE><H2>COVERAGE SUMMARY FOR SOURCE FILE [<SPAN CLASS="in">SSLContext.java</SPAN>]</H2><TABLE WIDTH="100%" CELLSPACING="0"><TR><TH>name</TH><TH>class, %</TH><TH>method, %</TH><TH>block, %</TH><TH>line, %</TH></TR><TR><TD>SSLContext.java</TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/3)</TD><TD CLASS="h">0%   (0/1)</TD></TR></TABLE><H3>COVERAGE BREAKDOWN BY CLASS AND METHOD</H3><TABLE WIDTH="100%" CLASS="cn" CELLSPACING="0"><TR><TH CLASS="f">name</TH><TH>class, %</TH><TH>method, %</TH><TH>block, %</TH><TH>line, %</TH></TR><TR><TD CLASS="b"> </TD><TD CLASS="b"> </TD><TD CLASS="b"> </TD><TD CLASS="b"> </TD><TD CLASS="b"> </TD></TR><TR CLASS="cis"><TD CLASS="f">class <A HREF="#0">SSLContext</A></TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/3)</TD><TD CLASS="h">0%   (0/1)</TD></TR><TR><TD CLASS="f"><A HREF="#0">SSLContext (): void</A></TD><TD> </TD><TD CLASS="h">0%   (0/1)</TD><TD CLASS="h">0%   (0/3)</TD><TD CLASS="h">0%   (0/1)</TD></TR></TABLE><P></P><TABLE WIDTH="100%" CLASS="s" CELLSPACING="0"><TR><TD CLASS="l">1</TD><TD>/*</TD></TR><TR><TD CLASS="l">2</TD><TD> *  Licensed to the Apache Software Foundation (ASF) under one or more</TD></TR><TR><TD CLASS="l">3</TD><TD> *  contributor license agreements.  See the NOTICE file distributed with</TD></TR><TR><TD CLASS="l">4</TD><TD> *  this work for additional information regarding copyright ownership.</TD></TR><TR><TD CLASS="l">5</TD><TD> *  The ASF licenses this file to You under the Apache License, Version 2.0</TD></TR><TR><TD CLASS="l">6</TD><TD> *  (the &#34;License&#34;); you may not use this file except in compliance with</TD></TR><TR><TD CLASS="l">7</TD><TD> *  the License.  You may obtain a copy of the License at</TD></TR><TR><TD CLASS="l">8</TD><TD> *</TD></TR><TR><TD CLASS="l">9</TD><TD> *      http://www.apache.org/licenses/LICENSE-2.0</TD></TR><TR><TD CLASS="l">10</TD><TD> *</TD></TR><TR><TD CLASS="l">11</TD><TD> *  Unless required by applicable law or agreed to in writing, software</TD></TR><TR><TD CLASS="l">12</TD><TD> *  distributed under the License is distributed on an &#34;AS IS&#34; BASIS,</TD></TR><TR><TD CLASS="l">13</TD><TD> *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</TD></TR><TR><TD CLASS="l">14</TD><TD> *  See the License for the specific language governing permissions and</TD></TR><TR><TD CLASS="l">15</TD><TD> *  limitations under the License.</TD></TR><TR><TD CLASS="l">16</TD><TD> */</TD></TR><TR><TD CLASS="l">17</TD><TD> </TD></TR><TR><TD CLASS="l">18</TD><TD>package org.apache.tomcat.jni;</TD></TR><TR><TD CLASS="l">19</TD><TD> </TD></TR><TR><TD CLASS="l"><A NAME="0">20</A></TD><TD>/** SSL Context</TD></TR><TR><TD CLASS="l">21</TD><TD> *</TD></TR><TR><TD CLASS="l">22</TD><TD> * @author Mladen Turk</TD></TR><TR><TD CLASS="l">23</TD><TD> */</TD></TR><TR CLASS="z"><TD CLASS="l">24</TD><TD>public final class SSLContext {</TD></TR><TR><TD CLASS="l">25</TD><TD> </TD></TR><TR><TD CLASS="l">26</TD><TD> </TD></TR><TR><TD CLASS="l">27</TD><TD>    /**</TD></TR><TR><TD CLASS="l">28</TD><TD>     * Initialize new SSL context</TD></TR><TR><TD CLASS="l">29</TD><TD>     * @param pool The pool to use.</TD></TR><TR><TD CLASS="l">30</TD><TD>     * @param protocol The SSL protocol to use. It can be any combination of</TD></TR><TR><TD CLASS="l">31</TD><TD>     * the following:</TD></TR><TR><TD CLASS="l">32</TD><TD>     * &lt;PRE&gt;</TD></TR><TR><TD CLASS="l">33</TD><TD>     * {@link SSL#SSL_PROTOCOL_SSLV2}</TD></TR><TR><TD CLASS="l">34</TD><TD>     * {@link SSL#SSL_PROTOCOL_SSLV3}</TD></TR><TR><TD CLASS="l">35</TD><TD>     * {@link SSL#SSL_PROTOCOL_TLSV1}</TD></TR><TR><TD CLASS="l">36</TD><TD>     * {@link SSL#SSL_PROTOCOL_TLSV1_1}</TD></TR><TR><TD CLASS="l">37</TD><TD>     * {@link SSL#SSL_PROTOCOL_TLSV1_2}</TD></TR><TR><TD CLASS="l">38</TD><TD>     * {@link SSL#SSL_PROTOCOL_ALL} ( == all TLS versions, no SSL)</TD></TR><TR><TD CLASS="l">39</TD><TD>     * &lt;/PRE&gt;</TD></TR><TR><TD CLASS="l">40</TD><TD>     * @param mode SSL mode to use</TD></TR><TR><TD CLASS="l">41</TD><TD>     * &lt;PRE&gt;</TD></TR><TR><TD CLASS="l">42</TD><TD>     * SSL_MODE_CLIENT</TD></TR><TR><TD CLASS="l">43</TD><TD>     * SSL_MODE_SERVER</TD></TR><TR><TD CLASS="l">44</TD><TD>     * SSL_MODE_COMBINED</TD></TR><TR><TD CLASS="l">45</TD><TD>     * &lt;/PRE&gt;</TD></TR><TR><TD CLASS="l">46</TD><TD>     */</TD></TR><TR><TD CLASS="l">47</TD><TD>    public static native long make(long pool, int protocol, int mode)</TD></TR><TR><TD CLASS="l">48</TD><TD>        throws Exception;</TD></TR><TR><TD CLASS="l">49</TD><TD> </TD></TR><TR><TD CLASS="l">50</TD><TD>    /**</TD></TR><TR><TD CLASS="l">51</TD><TD>     * Free the resources used by the Context</TD></TR><TR><TD CLASS="l">52</TD><TD>     * @param ctx Server or Client context to free.</TD></TR><TR><TD CLASS="l">53</TD><TD>     * @return APR Status code.</TD></TR><TR><TD CLASS="l">54</TD><TD>     */</TD></TR><TR><TD CLASS="l">55</TD><TD>    public static native int free(long ctx);</TD></TR><TR><TD CLASS="l">56</TD><TD> </TD></TR><TR><TD CLASS="l">57</TD><TD>    /**</TD></TR><TR><TD CLASS="l">58</TD><TD>     * Set Session context id. Usually host:port combination.</TD></TR><TR><TD CLASS="l">59</TD><TD>     * @param ctx Context to use.</TD></TR><TR><TD CLASS="l">60</TD><TD>     * @param id  String that uniquely identifies this context.</TD></TR><TR><TD CLASS="l">61</TD><TD>     */</TD></TR><TR><TD CLASS="l">62</TD><TD>    public static native void setContextId(long ctx, String id);</TD></TR><TR><TD CLASS="l">63</TD><TD> </TD></TR><TR><TD CLASS="l">64</TD><TD>    /**</TD></TR><TR><TD CLASS="l">65</TD><TD>     * Associate BIOCallback for input or output data capture.</TD></TR><TR><TD CLASS="l">66</TD><TD>     * &lt;br&gt;</TD></TR><TR><TD CLASS="l">67</TD><TD>     * First word in the output string will contain error</TD></TR><TR><TD CLASS="l">68</TD><TD>     * level in the form:</TD></TR><TR><TD CLASS="l">69</TD><TD>     * &lt;PRE&gt;</TD></TR><TR><TD CLASS="l">70</TD><TD>     * [ERROR]  -- Critical error messages</TD></TR><TR><TD CLASS="l">71</TD><TD>     * [WARN]   -- Warning messages</TD></TR><TR><TD CLASS="l">72</TD><TD>     * [INFO]   -- Informational messages</TD></TR><TR><TD CLASS="l">73</TD><TD>     * [DEBUG]  -- Debugging messaged</TD></TR><TR><TD CLASS="l">74</TD><TD>     * &lt;/PRE&gt;</TD></TR><TR><TD CLASS="l">75</TD><TD>     * Callback can use that word to determine application logging level</TD></TR><TR><TD CLASS="l">76</TD><TD>     * by intercepting &lt;b&gt;write&lt;/b&gt; call.</TD></TR><TR><TD CLASS="l">77</TD><TD>     * If the &lt;b&gt;bio&lt;/b&gt; is set to 0 no error messages will be displayed.</TD></TR><TR><TD CLASS="l">78</TD><TD>     * Default is to use the stderr output stream.</TD></TR><TR><TD CLASS="l">79</TD><TD>     * @param ctx Server or Client context to use.</TD></TR><TR><TD CLASS="l">80</TD><TD>     * @param bio BIO handle to use, created with SSL.newBIO</TD></TR><TR><TD CLASS="l">81</TD><TD>     * @param dir BIO direction (1 for input 0 for output).</TD></TR><TR><TD CLASS="l">82</TD><TD>     */</TD></TR><TR><TD CLASS="l">83</TD><TD>    public static native void setBIO(long ctx, long bio, int dir);</TD></TR><TR><TD CLASS="l">84</TD><TD> </TD></TR><TR><TD CLASS="l">85</TD><TD>    /**</TD></TR><TR><TD CLASS="l">86</TD><TD>     * Set OpenSSL Option.</TD></TR><TR><TD CLASS="l">87</TD><TD>     * @param ctx Server or Client context to use.</TD></TR><TR><TD CLASS="l">88</TD><TD>     * @param options  See SSL.SSL_OP_* for option flags.</TD></TR><TR><TD CLASS="l">89</TD><TD>     */</TD></TR><TR><TD CLASS="l">90</TD><TD>    public static native void setOptions(long ctx, int options);</TD></TR><TR><TD CLASS="l">91</TD><TD> </TD></TR><TR><TD CLASS="l">92</TD><TD>    /**</TD></TR><TR><TD CLASS="l">93</TD><TD>     * Clears OpenSSL Options.</TD></TR><TR><TD CLASS="l">94</TD><TD>     * @param ctx Server or Client context to use.</TD></TR><TR><TD CLASS="l">95</TD><TD>     * @param options  See SSL.SSL_OP_* for option flags.</TD></TR><TR><TD CLASS="l">96</TD><TD>     */</TD></TR><TR><TD CLASS="l">97</TD><TD>    public static native void clearOptions(long ctx, int options);</TD></TR><TR><TD CLASS="l">98</TD><TD> </TD></TR><TR><TD CLASS="l">99</TD><TD>    /**</TD></TR><TR><TD CLASS="l">100</TD><TD>     * Sets the &#34;quiet shutdown&#34; flag for &lt;b&gt;ctx&lt;/b&gt; to be</TD></TR><TR><TD CLASS="l">101</TD><TD>     * &lt;b&gt;mode&lt;/b&gt;. SSL objects created from &lt;b&gt;ctx&lt;/b&gt; inherit the</TD></TR><TR><TD CLASS="l">102</TD><TD>     * &lt;b&gt;mode&lt;/b&gt; valid at the time and may be 0 or 1.</TD></TR><TR><TD CLASS="l">103</TD><TD>     * &lt;br&gt;</TD></TR><TR><TD CLASS="l">104</TD><TD>     * Normally when a SSL connection is finished, the parties must send out</TD></TR><TR><TD CLASS="l">105</TD><TD>     * &#34;close notify&#34; alert messages using L&amp;lt;SSL_shutdown(3)|SSL_shutdown(3)&amp;gt;</TD></TR><TR><TD CLASS="l">106</TD><TD>     * for a clean shutdown.</TD></TR><TR><TD CLASS="l">107</TD><TD>     * &lt;br&gt;</TD></TR><TR><TD CLASS="l">108</TD><TD>     * When setting the &#34;quiet shutdown&#34; flag to 1, &lt;b&gt;SSL.shutdown&lt;/b&gt;</TD></TR><TR><TD CLASS="l">109</TD><TD>     * will set the internal flags to SSL_SENT_SHUTDOWN|SSL_RECEIVED_SHUTDOWN.</TD></TR><TR><TD CLASS="l">110</TD><TD>     * (&lt;b&gt;SSL_shutdown&lt;/b&gt; then behaves like called with</TD></TR><TR><TD CLASS="l">111</TD><TD>     * SSL_SENT_SHUTDOWN|SSL_RECEIVED_SHUTDOWN.)</TD></TR><TR><TD CLASS="l">112</TD><TD>     * The session is thus considered to be shutdown, but no &#34;close notify&#34; alert</TD></TR><TR><TD CLASS="l">113</TD><TD>     * is sent to the peer. This behaviour violates the TLS standard.</TD></TR><TR><TD CLASS="l">114</TD><TD>     * The default is normal shutdown behaviour as described by the TLS standard.</TD></TR><TR><TD CLASS="l">115</TD><TD>     * @param ctx Server or Client context to use.</TD></TR><TR><TD CLASS="l">116</TD><TD>     * @param mode True to set the quiet shutdown.</TD></TR><TR><TD CLASS="l">117</TD><TD>     */</TD></TR><TR><TD CLASS="l">118</TD><TD>    public static native void setQuietShutdown(long ctx, boolean mode);</TD></TR><TR><TD CLASS="l">119</TD><TD> </TD></TR><TR><TD CLASS="l">120</TD><TD>    /**</TD></TR><TR><TD CLASS="l">121</TD><TD>     * Cipher Suite available for negotiation in SSL handshake.</TD></TR><TR><TD CLASS="l">122</TD><TD>     * &lt;br&gt;</TD></TR><TR><TD CLASS="l">123</TD><TD>     * This complex directive uses a colon-separated cipher-spec string consisting</TD></TR><TR><TD CLASS="l">124</TD><TD>     * of OpenSSL cipher specifications to configure the Cipher Suite the client</TD></TR><TR><TD CLASS="l">125</TD><TD>     * is permitted to negotiate in the SSL handshake phase. Notice that this</TD></TR><TR><TD CLASS="l">126</TD><TD>     * directive can be used both in per-server and per-directory context.</TD></TR><TR><TD CLASS="l">127</TD><TD>     * In per-server context it applies to the standard SSL handshake when a</TD></TR><TR><TD CLASS="l">128</TD><TD>     * connection is established. In per-directory context it forces a SSL</TD></TR><TR><TD CLASS="l">129</TD><TD>     * renegotiation with the reconfigured Cipher Suite after the HTTP request</TD></TR><TR><TD CLASS="l">130</TD><TD>     * was read but before the HTTP response is sent.</TD></TR><TR><TD CLASS="l">131</TD><TD>     * @param ctx Server or Client context to use.</TD></TR><TR><TD CLASS="l">132</TD><TD>     * @param ciphers An SSL cipher specification.</TD></TR><TR><TD CLASS="l">133</TD><TD>     */</TD></TR><TR><TD CLASS="l">134</TD><TD>    public static native boolean setCipherSuite(long ctx, String ciphers)</TD></TR><TR><TD CLASS="l">135</TD><TD>        throws Exception;</TD></TR><TR><TD CLASS="l">136</TD><TD> </TD></TR><TR><TD CLASS="l">137</TD><TD>    /**</TD></TR><TR><TD CLASS="l">138</TD><TD>     * Set File of concatenated PEM-encoded CA CRLs or</TD></TR><TR><TD CLASS="l">139</TD><TD>     * directory of PEM-encoded CA Certificates for Client Auth</TD></TR><TR><TD CLASS="l">140</TD><TD>     * &lt;br&gt;</TD></TR><TR><TD CLASS="l">141</TD><TD>     * This directive sets the all-in-one file where you can assemble the</TD></TR><TR><TD CLASS="l">142</TD><TD>     * Certificate Revocation Lists (CRL) of Certification Authorities (CA)</TD></TR><TR><TD CLASS="l">143</TD><TD>     * whose clients you deal with. These are used for Client Authentication.</TD></TR><TR><TD CLASS="l">144</TD><TD>     * Such a file is simply the concatenation of the various PEM-encoded CRL</TD></TR><TR><TD CLASS="l">145</TD><TD>     * files, in order of preference.</TD></TR><TR><TD CLASS="l">146</TD><TD>     * &lt;br&gt;</TD></TR><TR><TD CLASS="l">147</TD><TD>     * The files in this directory have to be PEM-encoded and are accessed through</TD></TR><TR><TD CLASS="l">148</TD><TD>     * hash filenames. So usually you can't just place the Certificate files there:</TD></TR><TR><TD CLASS="l">149</TD><TD>     * you also have to create symbolic links named hash-value.N. And you should</TD></TR><TR><TD CLASS="l">150</TD><TD>     * always make sure this directory contains the appropriate symbolic links.</TD></TR><TR><TD CLASS="l">151</TD><TD>     * Use the Makefile which comes with mod_ssl to accomplish this task.</TD></TR><TR><TD CLASS="l">152</TD><TD>     * @param ctx Server or Client context to use.</TD></TR><TR><TD CLASS="l">153</TD><TD>     * @param file File of concatenated PEM-encoded CA CRLs for Client Auth.</TD></TR><TR><TD CLASS="l">154</TD><TD>     * @param path Directory of PEM-encoded CA Certificates for Client Auth.</TD></TR><TR><TD CLASS="l">155</TD><TD>     */</TD></TR><TR><TD CLASS="l">156</TD><TD>    public static native boolean setCARevocation(long ctx, String file,</TD></TR><TR><TD CLASS="l">157</TD><TD>                                                 String path)</TD></TR><TR><TD CLASS="l">158</TD><TD>        throws Exception;</TD></TR><TR><TD CLASS="l">159</TD><TD> </TD></TR><TR><TD CLASS="l">160</TD><TD>    /**</TD></TR><TR><TD CLASS="l">161</TD><TD>     * Set File of PEM-encoded Server CA Certificates</TD></TR><TR><TD CLASS="l">162</TD><TD>     * &lt;br&gt;</TD></TR><TR><TD CLASS="l">163</TD><TD>     * This directive sets the optional all-in-one file where you can assemble the</TD></TR><TR><TD CLASS="l">164</TD><TD>     * certificates of Certification Authorities (CA) which form the certificate</TD></TR><TR><TD CLASS="l">165</TD><TD>     * chain of the server certificate. This starts with the issuing CA certificate</TD></TR><TR><TD CLASS="l">166</TD><TD>     * of of the server certificate and can range up to the root CA certificate.</TD></TR><TR><TD CLASS="l">167</TD><TD>     * Such a file is simply the concatenation of the various PEM-encoded CA</TD></TR><TR><TD CLASS="l">168</TD><TD>     * Certificate files, usually in certificate chain order.</TD></TR><TR><TD CLASS="l">169</TD><TD>     * &lt;br&gt;</TD></TR><TR><TD CLASS="l">170</TD><TD>     * But be careful: Providing the certificate chain works only if you are using</TD></TR><TR><TD CLASS="l">171</TD><TD>     * a single (either RSA or DSA) based server certificate. If you are using a</TD></TR><TR><TD CLASS="l">172</TD><TD>     * coupled RSA+DSA certificate pair, this will work only if actually both</TD></TR><TR><TD CLASS="l">173</TD><TD>     * certificates use the same certificate chain. Else the browsers will be</TD></TR><TR><TD CLASS="l">174</TD><TD>     * confused in this situation.</TD></TR><TR><TD CLASS="l">175</TD><TD>     * @param ctx Server or Client context to use.</TD></TR><TR><TD CLASS="l">176</TD><TD>     * @param file File of PEM-encoded Server CA Certificates.</TD></TR><TR><TD CLASS="l">177</TD><TD>     * @param skipfirst Skip first certificate if chain file is inside</TD></TR><TR><TD CLASS="l">178</TD><TD>     *                  certificate file.</TD></TR><TR><TD CLASS="l">179</TD><TD>     */</TD></TR><TR><TD CLASS="l">180</TD><TD>    public static native boolean setCertificateChainFile(long ctx, String file,</TD></TR><TR><TD CLASS="l">181</TD><TD>                                                         boolean skipfirst);</TD></TR><TR><TD CLASS="l">182</TD><TD> </TD></TR><TR><TD CLASS="l">183</TD><TD>    /**</TD></TR><TR><TD CLASS="l">184</TD><TD>     * Set Certificate</TD></TR><TR><TD CLASS="l">185</TD><TD>     * &lt;br&gt;</TD></TR><TR><TD CLASS="l">186</TD><TD>     * Point setCertificateFile at a PEM encoded certificate.  If</TD></TR><TR><TD CLASS="l">187</TD><TD>     * the certificate is encrypted, then you will be prompted for a</TD></TR><TR><TD CLASS="l">188</TD><TD>     * pass phrase.  Note that a kill -HUP will prompt again. A test</TD></TR><TR><TD CLASS="l">189</TD><TD>     * certificate can be generated with `make certificate' under</TD></TR><TR><TD CLASS="l">190</TD><TD>     * built time. Keep in mind that if you've both a RSA and a DSA</TD></TR><TR><TD CLASS="l">191</TD><TD>     * certificate you can configure both in parallel (to also allow</TD></TR><TR><TD CLASS="l">192</TD><TD>     * the use of DSA ciphers, etc.)</TD></TR><TR><TD CLASS="l">193</TD><TD>     * &lt;br&gt;</TD></TR><TR><TD CLASS="l">194</TD><TD>     * If the key is not combined with the certificate, use key param</TD></TR><TR><TD CLASS="l">195</TD><TD>     * to point at the key file.  Keep in mind that if</TD></TR><TR><TD CLASS="l">196</TD><TD>     * you've both a RSA and a DSA private key you can configure</TD></TR><TR><TD CLASS="l">197</TD><TD>     * both in parallel (to also allow the use of DSA ciphers, etc.)</TD></TR><TR><TD CLASS="l">198</TD><TD>     * @param ctx Server or Client context to use.</TD></TR><TR><TD CLASS="l">199</TD><TD>     * @param cert Certificate file.</TD></TR><TR><TD CLASS="l">200</TD><TD>     * @param key Private Key file to use if not in cert.</TD></TR><TR><TD CLASS="l">201</TD><TD>     * @param password Certificate password. If null and certificate</TD></TR><TR><TD CLASS="l">202</TD><TD>     *                 is encrypted, password prompt will be displayed.</TD></TR><TR><TD CLASS="l">203</TD><TD>     * @param idx Certificate index SSL_AIDX_RSA or SSL_AIDX_DSA.</TD></TR><TR><TD CLASS="l">204</TD><TD>     */</TD></TR><TR><TD CLASS="l">205</TD><TD>    public static native boolean setCertificate(long ctx, String cert,</TD></TR><TR><TD CLASS="l">206</TD><TD>                                                String key, String password,</TD></TR><TR><TD CLASS="l">207</TD><TD>                                                int idx)</TD></TR><TR><TD CLASS="l">208</TD><TD>        throws Exception;</TD></TR><TR><TD CLASS="l">209</TD><TD> </TD></TR><TR><TD CLASS="l">210</TD><TD>    /**</TD></TR><TR><TD CLASS="l">211</TD><TD>     * Set File and Directory of concatenated PEM-encoded CA Certificates</TD></TR><TR><TD CLASS="l">212</TD><TD>     * for Client Auth</TD></TR><TR><TD CLASS="l">213</TD><TD>     * &lt;br&gt;</TD></TR><TR><TD CLASS="l">214</TD><TD>     * This directive sets the all-in-one file where you can assemble the</TD></TR><TR><TD CLASS="l">215</TD><TD>     * Certificates of Certification Authorities (CA) whose clients you deal with.</TD></TR><TR><TD CLASS="l">216</TD><TD>     * These are used for Client Authentication. Such a file is simply the</TD></TR><TR><TD CLASS="l">217</TD><TD>     * concatenation of the various PEM-encoded Certificate files, in order of</TD></TR><TR><TD CLASS="l">218</TD><TD>     * preference. This can be used alternatively and/or additionally to</TD></TR><TR><TD CLASS="l">219</TD><TD>     * path.</TD></TR><TR><TD CLASS="l">220</TD><TD>     * &lt;br&gt;</TD></TR><TR><TD CLASS="l">221</TD><TD>     * The files in this directory have to be PEM-encoded and are accessed through</TD></TR><TR><TD CLASS="l">222</TD><TD>     * hash filenames. So usually you can't just place the Certificate files there:</TD></TR><TR><TD CLASS="l">223</TD><TD>     * you also have to create symbolic links named hash-value.N. And you should</TD></TR><TR><TD CLASS="l">224</TD><TD>     * always make sure this directory contains the appropriate symbolic links.</TD></TR><TR><TD CLASS="l">225</TD><TD>     * Use the Makefile which comes with mod_ssl to accomplish this task.</TD></TR><TR><TD CLASS="l">226</TD><TD>     * @param ctx Server or Client context to use.</TD></TR><TR><TD CLASS="l">227</TD><TD>     * @param file File of concatenated PEM-encoded CA Certificates for</TD></TR><TR><TD CLASS="l">228</TD><TD>     *             Client Auth.</TD></TR><TR><TD CLASS="l">229</TD><TD>     * @param path Directory of PEM-encoded CA Certificates for Client Auth.</TD></TR><TR><TD CLASS="l">230</TD><TD>     */</TD></TR><TR><TD CLASS="l">231</TD><TD>    public static native boolean setCACertificate(long ctx, String file,</TD></TR><TR><TD CLASS="l">232</TD><TD>                                                  String path)</TD></TR><TR><TD CLASS="l">233</TD><TD>        throws Exception;</TD></TR><TR><TD CLASS="l">234</TD><TD> </TD></TR><TR><TD CLASS="l">235</TD><TD>    /**</TD></TR><TR><TD CLASS="l">236</TD><TD>     * Set file for randomness</TD></TR><TR><TD CLASS="l">237</TD><TD>     * @param ctx Server or Client context to use.</TD></TR><TR><TD CLASS="l">238</TD><TD>     * @param file random file.</TD></TR><TR><TD CLASS="l">239</TD><TD>     */</TD></TR><TR><TD CLASS="l">240</TD><TD>    public static native void setRandom(long ctx, String file);</TD></TR><TR><TD CLASS="l">241</TD><TD> </TD></TR><TR><TD CLASS="l">242</TD><TD>    /**</TD></TR><TR><TD CLASS="l">243</TD><TD>     * Set SSL connection shutdown type</TD></TR><TR><TD CLASS="l">244</TD><TD>     * &lt;br&gt;</TD></TR><TR><TD CLASS="l">245</TD><TD>     * The following levels are available for level:</TD></TR><TR><TD CLASS="l">246</TD><TD>     * &lt;PRE&gt;</TD></TR><TR><TD CLASS="l">247</TD><TD>     * SSL_SHUTDOWN_TYPE_STANDARD</TD></TR><TR><TD CLASS="l">248</TD><TD>     * SSL_SHUTDOWN_TYPE_UNCLEAN</TD></TR><TR><TD CLASS="l">249</TD><TD>     * SSL_SHUTDOWN_TYPE_ACCURATE</TD></TR><TR><TD CLASS="l">250</TD><TD>     * &lt;/PRE&gt;</TD></TR><TR><TD CLASS="l">251</TD><TD>     * @param ctx Server or Client context to use.</TD></TR><TR><TD CLASS="l">252</TD><TD>     * @param type Shutdown type to use.</TD></TR><TR><TD CLASS="l">253</TD><TD>     */</TD></TR><TR><TD CLASS="l">254</TD><TD>    public static native void setShutdownType(long ctx, int type);</TD></TR><TR><TD CLASS="l">255</TD><TD> </TD></TR><TR><TD CLASS="l">256</TD><TD>    /**</TD></TR><TR><TD CLASS="l">257</TD><TD>     * Set Type of Client Certificate verification and Maximum depth of CA Certificates</TD></TR><TR><TD CLASS="l">258</TD><TD>     * in Client Certificate verification.</TD></TR><TR><TD CLASS="l">259</TD><TD>     * &lt;br&gt;</TD></TR><TR><TD CLASS="l">260</TD><TD>     * This directive sets the Certificate verification level for the Client</TD></TR><TR><TD CLASS="l">261</TD><TD>     * Authentication. Notice that this directive can be used both in per-server</TD></TR><TR><TD CLASS="l">262</TD><TD>     * and per-directory context. In per-server context it applies to the client</TD></TR><TR><TD CLASS="l">263</TD><TD>     * authentication process used in the standard SSL handshake when a connection</TD></TR><TR><TD CLASS="l">264</TD><TD>     * is established. In per-directory context it forces a SSL renegotiation with</TD></TR><TR><TD CLASS="l">265</TD><TD>     * the reconfigured client verification level after the HTTP request was read</TD></TR><TR><TD CLASS="l">266</TD><TD>     * but before the HTTP response is sent.</TD></TR><TR><TD CLASS="l">267</TD><TD>     * &lt;br&gt;</TD></TR><TR><TD CLASS="l">268</TD><TD>     * The following levels are available for level:</TD></TR><TR><TD CLASS="l">269</TD><TD>     * &lt;PRE&gt;</TD></TR><TR><TD CLASS="l">270</TD><TD>     * SSL_CVERIFY_NONE           - No client Certificate is required at all</TD></TR><TR><TD CLASS="l">271</TD><TD>     * SSL_CVERIFY_OPTIONAL       - The client may present a valid Certificate</TD></TR><TR><TD CLASS="l">272</TD><TD>     * SSL_CVERIFY_REQUIRE        - The client has to present a valid Certificate</TD></TR><TR><TD CLASS="l">273</TD><TD>     * SSL_CVERIFY_OPTIONAL_NO_CA - The client may present a valid Certificate</TD></TR><TR><TD CLASS="l">274</TD><TD>     *                              but it need not to be (successfully) verifiable</TD></TR><TR><TD CLASS="l">275</TD><TD>     * &lt;/PRE&gt;</TD></TR><TR><TD CLASS="l">276</TD><TD>     * &lt;br&gt;</TD></TR><TR><TD CLASS="l">277</TD><TD>     * The depth actually is the maximum number of intermediate certificate issuers,</TD></TR><TR><TD CLASS="l">278</TD><TD>     * i.e. the number of CA certificates which are max allowed to be followed while</TD></TR><TR><TD CLASS="l">279</TD><TD>     * verifying the client certificate. A depth of 0 means that self-signed client</TD></TR><TR><TD CLASS="l">280</TD><TD>     * certificates are accepted only, the default depth of 1 means the client</TD></TR><TR><TD CLASS="l">281</TD><TD>     * certificate can be self-signed or has to be signed by a CA which is directly</TD></TR><TR><TD CLASS="l">282</TD><TD>     * known to the server (i.e. the CA's certificate is under</TD></TR><TR><TD CLASS="l">283</TD><TD>     * &lt;code&gt;setCACertificatePath&lt;/code&gt;), etc.</TD></TR><TR><TD CLASS="l">284</TD><TD>     * @param ctx Server or Client context to use.</TD></TR><TR><TD CLASS="l">285</TD><TD>     * @param level Type of Client Certificate verification.</TD></TR><TR><TD CLASS="l">286</TD><TD>     * @param depth Maximum depth of CA Certificates in Client Certificate</TD></TR><TR><TD CLASS="l">287</TD><TD>     *              verification.</TD></TR><TR><TD CLASS="l">288</TD><TD>     */</TD></TR><TR><TD CLASS="l">289</TD><TD>    public static native void setVerify(long ctx, int level, int depth);</TD></TR><TR><TD CLASS="l">290</TD><TD> </TD></TR><TR><TD CLASS="l">291</TD><TD>}</TD></TR></TABLE><P></P><TABLE WIDTH="100%" CLASS="hdft" CELLSPACING="0"><TR><TD CLASS="nv">[<A HREF="../index.html">all classes</A>][<A HREF="2a.html">org.apache.tomcat.jni</A>]</TD></TR><TR><TD CLASS="tl"><A HREF="http://sourceforge.net/projects/emma">EMMA 2.1.5320 (stable)</A> (C) Vladimir Roubtsov</TD></TR></TABLE></BODY></HTML>